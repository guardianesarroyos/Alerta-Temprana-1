<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#121212" />
  <link rel="manifest" href="manifest.json" />
  <title>Alerta Temprana Arroyo Escobar v.2</title>
  <link rel="stylesheet" href="style/main.css" />
  <script src="config/config.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service/serviceWorker.js');
      });
    }
  </script>
</head>

<body>
  <!-- Datos meteorológicos actualizados -->
  <div class="datos-meteo" id="lluvia">
    <div class="meteo-valor" id="rain-value">-- mm</div>
    <div class="meteo-detalle" id="rain-time">Lluvia acumulada r26 por día</div>
  </div>
  <div class="datos-meteo" id="temperatura">
    <div class="meteo-valor" id="temp-value">-- °C</div>
    <div class="meteo-detalle" id="temp-time">Ing.Maschwitz r26</div>
  </div>

  <!-- Encabezado -->
  <div class="header">
    <h1>Alerta Temprana v.2</h1>
    <h2>Arroyo Escobar</h2>
  </div>

  <!-- Selección de escenario -->
  <div class="selector-container">
    <label for="scenario">Escenario:</label>
    <select id="scenario">
      <option value="24">24 hs</option>
      <option value="48">48 hs</option>
      <option value="72">72 hs</option>
    </select>
    <div class="tooltip">ⓘ
      <span class="tooltiptext">Seleccioná la duración del evento de lluvia para estimar la altura del arroyo.</span>
    </div>
  </div>

  <!-- Botones de información -->
  <div class="info-buttons">
    <button onclick="alert('El escenario de 24 hs simula lluvias concentradas en un solo día. Responde rápido y suele provocar crecidas más abruptas.')">+ info 24h</button>
    <button onclick="alert('El escenario de 48 hs contempla lluvias repartidas en dos días. El nivel sube más lento, pero se mantiene más tiempo.')">+ info 48h</button>
    <button onclick="alert('El escenario de 72 hs modela lluvias prolongadas. Puede saturar el suelo lentamente y generar crecidas prolongadas.')">+ info 72h</button>
  </div>

  <!-- Control de lluvia -->
  <div class="slider-container">
    <label for="rain">Lluvia acumulada (mm): <span id="rainValue">0</span></label>
    <input type="range" id="rain" min="0" max="300" step="10" value="0" />
  </div>

  <!-- Factores de impacto -->
  <div class="factors-container">
    <label class="factor-toggle">
      <input type="checkbox" id="sudestada" />
      <span class="toggle-button">Sudestada</span>
      <span class="tooltip">?
        <span class="tooltiptext">Altura del río Luján superior a 200 cm en Dique Luján (ver app "Altura del Río")</span>
      </span>
    </label>

    <label class="factor-toggle">
      <input type="checkbox" id="aguasArriba" />
      <span class="toggle-button">Aguas arriba</span>
      <span class="tooltip">?
        <span class="tooltiptext">Lluvia acumulada en Pilar según estaciones Meteo linderas al arroyo Pinazo-Escobar</span>
      </span>
    </label>

    <label class="factor-toggle">
      <input type="checkbox" id="sueloSaturado" />
      <span class="toggle-button">Suelo saturado</span>
      <span class="tooltip">?
        <span class="tooltiptext">Inundaciones completas de suelos o lluvias prolongadas (>120 mm) en los últimos 10 días</span>
      </span>
    </label>
  </div>

  <!-- Resultados -->
  <div class="impact-container">
    <p>Altura estimada: <span id="altura"></span> m</p>
    <p>Impacto estimado: <span id="impacto"></span></p>
  </div>

  <!-- Input de "Mi Casa" -->
  <div class="mi-casa-container">
    <input type="number" id="miCasaInput" placeholder="Mi Casa (m)" step="0.01" min="2.5" max="6.0" />
    <button id="miCasaButton">+ Mi Casa</button>
  </div>

  <!-- Frase ambiental -->
  <div class="frase-ambiental-container" id="fraseAmbiental">
    <!-- Las frases se cargarán aquí automáticamente -->
  </div>

  <!-- Barra de nivel -->
  <div class="level-bar">
    <div class="level-fill" id="levelFill"></div>
    <div class="marks" id="marks"></div>
  </div>

  <!-- Footer -->
  <div class="footer">
    Creado por guardianesarroyosba © vecinos autoconvocados
  </div>

  <!-- Script final -->
  <script src="script/app.js"></script>
</body>
</html>
